{"version":3,"sources":["reportWebVitals.js","context/auth.js","util/AuthRoute.js","util/PrivateRoute.js","util/useForm.js","pages/Login.js","util/MyPopup.js","components/LikeButton.js","util/graphql.js","components/DeleteButton.js","components/PostCard.js","components/PostForm.js","pages/Home.js","pages/Register.js","components/MenuBar.js","pages/SinglePost.js","pages/Chat.js","pages/Join.js","components/InfoBar.js","icons/onlineIcon.png","icons/videoCallIcon.png","icons/closeIcon.png","components/Input.js","components/Message.js","components/Messages.js","pages/news.js","components/Lobby.js","components/Participant.js","components/Room.js","components/VideoChat.js","pages/Video.js","App.js","ApolloProvider.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","user","localStorage","getItem","decodedToken","jwtDecode","exp","Date","now","removeItem","AuthContext","createContext","login","userData","logout","authReducer","state","action","type","payload","AuthProvider","children","useReducer","dispatch","Provider","value","setItem","token","AuthRoute","Component","component","rest","useContext","render","props","to","PrivateRoute","useForm","callback","useState","values","setValues","onChange","event","target","name","onSubmit","preventDefault","Login","context","errors","setErrors","loginUser","username","password","useMutation","LOGIN_USER","onCompleted","data","history","push","variables","onError","err","console","log","graphQLErrors","extensions","exception","loading","className","Form","noValidate","Input","label","placeholder","error","Button","primary","style","background","Object","keys","length","map","gql","MyPopup","content","Popup","inverted","trigger","LIKE_POST_MUTATION","LikeButton","post","id","likeCount","likes","liked","setLiked","useEffect","find","like","postId","likePost","likeButton","color","Icon","basic","as","Link","labelPosition","onClick","Label","pointing","FETCH_POSTS_QUERY","DELETE_POST_MUTATION","DELETE_COMMENT_MUTATION","DeleteButton","commentId","refetch","confirmOpen","setConfirmOpen","mutation","update","proxy","result","readQuery","query","writeQuery","getPosts","filter","p","deletePostOrMutation","floated","margin","Confirm","open","onCancel","onConfirm","PostCard","body","createdAt","commentCount","Card","fluid","Content","Image","size","src","Header","Meta","moment","fromNow","Description","extra","PostForm","createPost","CREATE_POST_MUTATION","Field","marginBottom","message","Home","useQuery","notifyOnNetworkStatusChange","networkStatus","NetworkStatus","Grid","columns","Row","Column","Transition","Group","Register","addUser","email","confirmPassword","REGISTER_USER","register","e","emailjs","sendForm","process","text","sendEmail","MenuBar","pathname","window","location","path","substr","activeItem","setActiveItem","handleItemClick","Menu","secondary","Item","active","position","socket","SUBMIT_COMMENT_MUTATION","FETCH_POST_QUERY","SinglePost","postMarkup","match","params","commentInputRef","useRef","comment","setComment","current","blur","submitComment","getPost","comments","width","float","ref","disabled","trim","Join","setName","room","setRoom","InfoBar","alt","href","setMessage","sendMessage","onKeyPress","key","Message","isSentByCurrentUser","trimmedName","toLowerCase","ReactEmoji","emojify","Messages","messages","i","Chat","users","setUsers","setMessages","ENDPOINT","queryString","parse","search","io","reconnectionAttempts","emit","alert","on","off","news","items","setItems","fetch","response","json","JSON","stringify","articles","catch","GridRow","centered","item","url","header","title","description","meta","author","Lobby","handleUsernameChange","roomName","handleRoomNameChange","handleSubmit","htmlFor","required","Participant","participant","videoTracks","setVideoTracks","audioTracks","setAudioTracks","videoRef","audioRef","trackpubsToTracks","trackMap","Array","from","publication","track","kind","v","a","removeAllListeners","videoTrack","attach","detach","audioTrack","identity","autoPlay","muted","Room","handleLogout","participants","setParticipants","participantConnected","prevParticipants","participantDisconnected","Video","connect","forEach","currentRoom","localParticipant","tracks","trackPublication","stop","disconnect","remoteParticipants","sid","VideoChat","setUsername","setRoomName","setToken","useCallback","method","headers","Accept","res","Sentry","Container","exact","News","httpLink","createHttpLink","uri","authLink","setContext","Authorization","client","ApolloClient","link","concat","cache","InMemoryCache","fallback","showDialog","onMount","onUnmount","dsn","autoSessionTracking","integrations","Integrations","BrowserTracing","release","npm_package_version","tracesSampleRate","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6f9093a6.chunk.js","sourcesContent":["const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useReducer, createContext } from 'react';\nimport jwtDecode from 'jwt-decode';\n\nconst initialState = {\n  user: null,\n};\n\nif (localStorage.getItem('jwtToken')) {\n  const decodedToken = jwtDecode(localStorage.getItem('jwtToken'));\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    localStorage.removeItem('jwtToken');\n    initialState.user = null;\n  } else {\n    initialState.user = decodedToken;\n  }\n}\n\n// will pass this context object to useContext to recieve new updated context\n// parameter of createContext is the default value\nconst AuthContext = createContext({\n  user: null,\n  login: (userData) => {}, // login and logout are initialized to do nothing\n  logout: () => {},\n});\n\n// reducer strictly defines actions\n\nfunction authReducer(state, action) {\n  switch (action.type) {\n    case 'LOGIN':\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case 'LOGOUT': {\n      return {\n        ...state,\n        user: null,\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nfunction AuthProvider({ children }) {\n  // useReducer hooks gives us access to current state object and dispatch function\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  // defining login and logout functions on user given back from context\n  function login(userData) {\n    localStorage.setItem('jwtToken', userData.token);\n    dispatch({\n      type: 'LOGIN',\n      payload: userData,\n    });\n  }\n\n  function logout() {\n    localStorage.removeItem('jwtToken');\n    dispatch({\n      type: 'LOGOUT',\n    });\n  }\n\n  return (\n    // value is what we can retrieve from the context\n    <AuthContext.Provider value={{ user: state.user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n// AuthContext to access context\n// AuthProvider wraps entire app\n\nexport { AuthContext, AuthProvider };\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { AuthContext } from '../context/auth';\n\nfunction AuthRoute({ component: Component, ...rest }) {\n  // ...rest is the Route props\n  // ...props is Route component props\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user ? <Redirect to=\"/\" /> : <Component {...props} />\n      }\n    />\n  );\n}\n\nexport default AuthRoute;\n","import React, { useContext } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { AuthContext } from '../context/auth';\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  // ...rest is the Route props\n  // ...props is Route component props\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        user ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","import { useState } from 'react';\n\nconst useForm = (callback, initialState = {}) => {\n  const [values, setValues] = useState(initialState);\n\n  // modify corresponding values\n  const onChange = (event) => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  // when form is submitted dont refresh\n  const onSubmit = (event) => {\n    event.preventDefault();\n    callback();\n  };\n\n  return {\n    onChange,\n    onSubmit,\n    values,\n  };\n};\n\nexport default useForm;\n","import React, { useState, useContext } from 'react';\nimport { Form, Button } from 'semantic-ui-react';\nimport { useMutation } from '@apollo/client';\nimport gql from 'graphql-tag';\n\nimport useForm from '../util/useForm';\nimport { AuthContext } from '../context/auth';\n\nexport default function Login(props) {\n  const context = useContext(AuthContext);\n  const [errors, setErrors] = useState({});\n\n  const { onChange, onSubmit, values } = useForm(loginUserCallback, {\n    username: '',\n    password: '',\n  });\n\n  const [loginUser, { loading }] = useMutation(LOGIN_USER, {\n    onCompleted(data) {\n      context.login(data.login);\n      props.history.push('/');\n    },\n    variables: values,\n    // if there is an error with the mutation we will popular the errors state\n    onError(err) {\n      console.log('Login Error:', err);\n      if (err.graphQLErrors) {\n        setErrors(err.graphQLErrors[0].extensions.exception.errors);\n      }\n    },\n  });\n\n  function loginUserCallback() {\n    loginUser();\n  }\n\n  return (\n    <div className=\"form-container\">\n      {/* Login Form Body */}\n      <Form onSubmit={onSubmit} noValidate className={loading ? 'loading' : ''}>\n        <h1>Login</h1>\n        {/* Username */}\n        <Form.Input\n          label=\"Username\"\n          placeholder=\"Username...\"\n          name=\"username\"\n          type=\"text\"\n          value={values.username}\n          onChange={onChange}\n          error={errors && errors.username ? true : false}\n        />\n        {/* Password */}\n        <Form.Input\n          label=\"Password\"\n          placeholder=\"Password...\"\n          type=\"password\"\n          name=\"password\"\n          value={values.password}\n          onChange={onChange}\n          error={errors && errors.password ? true : false}\n        />\n        {/* Submit Button */}\n        <Button type=\"submit\" primary style={{ background: '#00b5ad' }}>\n          Login\n        </Button>\n      </Form>\n      {loading ? <p>Logging in user...</p> : ''}\n      {errors && Object.keys(errors).length > 0 && (\n        <div className=\"ui error message\">\n          <ul className=\"list\">\n            {Object.values(errors).map((value) => (\n              <li key={value}>{value}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst LOGIN_USER = gql`\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n`;\n","import { Popup } from 'semantic-ui-react';\nimport React from 'react';\n\nfunction MyPopup({ content, children }) {\n  // trigger --> gives the children a popup ability\n  // inverted --> changes popup theme (black)\n  // content --> message that appears in popup\n  return <Popup inverted content={content} trigger={children} />;\n}\n\nexport default MyPopup;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { Button, Icon, Label } from 'semantic-ui-react';\nimport gql from 'graphql-tag';\n\nimport MyPopup from '../util/MyPopup';\n\nfunction LikeButton({ user, post: { id, likeCount, likes } }) {\n  const [liked, setLiked] = useState(false);\n  useEffect(() => {\n    // if user exists and they liked a post\n    if (user && likes.find((like) => like.username === user.username)) {\n      setLiked(true);\n    } else {\n      setLiked(false);\n    }\n  }, [user, likes]);\n\n  const [likePost] = useMutation(LIKE_POST_MUTATION, {\n    // when button is clicked pass the post id\n    variables: { postId: id },\n  });\n\n  const likeButton = user ? (\n    liked ? (\n      <Button color=\"teal\">\n        <Icon name=\"heart\" />\n      </Button>\n    ) : (\n      <Button color=\"teal\" basic>\n        <Icon name=\"heart\" />\n      </Button>\n    )\n  ) : (\n    <Button as={Link} to=\"/login\" color=\"teal\" basic>\n      <Icon name=\"heart\" />\n    </Button>\n  );\n\n  return (\n    <Button as=\"div\" labelPosition=\"right\" onClick={likePost}>\n      <MyPopup content={liked ? 'Unlike' : 'Like'}>{likeButton}</MyPopup>\n      <Label basic color=\"teal\" pointing=\"left\">\n        {likeCount}\n      </Label>\n    </Button>\n  );\n}\n\nconst LIKE_POST_MUTATION = gql`\n  mutation likePost($postId: ID!) {\n    likePost(postId: $postId) {\n      id\n      likes {\n        id\n        username\n      }\n      likeCount\n    }\n  }\n`;\n\nexport default LikeButton;\n","import gql from 'graphql-tag';\n\nexport const FETCH_POSTS_QUERY = gql`\n  {\n    getPosts {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/client';\nimport { Button, Confirm, Icon } from 'semantic-ui-react';\n\nimport { FETCH_POSTS_QUERY } from '../util/graphql';\nimport MyPopup from '../util/MyPopup';\n\nfunction DeleteButton({ postId, commentId, refetch, callback }) {\n  const [confirmOpen, setConfirmOpen] = useState(false);\n\n  const mutation = commentId ? DELETE_COMMENT_MUTATION : DELETE_POST_MUTATION;\n\n  const [deletePostOrMutation, { error }] = useMutation(mutation, {\n    variables: {\n      postId,\n      commentId,\n    },\n    /* eslint-disable-line */ update(proxy, result) {\n      setConfirmOpen(false);\n      if (!commentId) {\n        const data = proxy.readQuery({\n          query: FETCH_POSTS_QUERY,\n        });\n        proxy.writeQuery({\n          query: FETCH_POSTS_QUERY,\n          data: {\n            getPosts: data.getPosts.filter((p) => p.id !== postId),\n          },\n        });\n      }\n      if (callback) {\n        callback();\n      }\n    },\n    onCompleted() {\n      refetch();\n    },\n    onError(err) {\n      console.log(error);\n      return err;\n    },\n  });\n\n  return (\n    <>\n      <MyPopup content={commentId ? 'Delete comment' : 'Delete post'}>\n        <Button\n          as=\"div\"\n          color=\"red\"\n          floated=\"right\"\n          onClick={() => setConfirmOpen(true)}\n        >\n          <Icon name=\"trash\" style={{ margin: 0 }} />\n        </Button>\n      </MyPopup>\n      <Confirm\n        open={confirmOpen} // Boolean decides to show confirm box or not\n        onCancel={() => setConfirmOpen(false)}\n        onConfirm={deletePostOrMutation}\n      />\n    </>\n  );\n}\n\nconst DELETE_POST_MUTATION = gql`\n  mutation deletePost($postId: ID!) {\n    deletePost(postId: $postId)\n  }\n`;\n\nconst DELETE_COMMENT_MUTATION = gql`\n  mutation deleteComment($postId: ID!, $commentId: ID!) {\n    deleteComment(postId: $postId, commentId: $commentId) {\n      id\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n      commentCount\n    }\n  }\n`;\n\nexport default DeleteButton;\n","import React, { useContext } from 'react';\nimport { Card, Button, Icon, Label, Image } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { Link } from 'react-router-dom';\n\nimport { AuthContext } from '../context/auth';\nimport LikeButton from './LikeButton';\nimport DeleteButton from './DeleteButton';\nimport MyPopup from '../util/MyPopup';\n\nfunction PostCard({\n  post: { body, createdAt, id, username, likeCount, commentCount, likes },\n  refetch,\n}) {\n  const { user } = useContext(AuthContext);\n\n  return (\n    <Card fluid>\n      <Card.Content>\n        {/* Picture */}\n        <Image\n          floated=\"right\"\n          size=\"mini\"\n          src=\"https://react.semantic-ui.com/images/avatar/large/molly.png\"\n        />\n        <Card.Header>{username}</Card.Header>\n        <Card.Meta as={Link} to={`/posts/${id}`}>\n          {moment(createdAt).fromNow(true)}\n        </Card.Meta>\n        <Card.Description>{body}</Card.Description>\n      </Card.Content>\n      <Card.Content extra>\n        <LikeButton user={user} post={{ id, likes, likeCount }} />\n        <MyPopup content=\"Comment on post\">\n          <Button labelPosition=\"right\" as={Link} to={`/posts/${id}`}>\n            <Button color=\"blue\" basic>\n              <Icon name=\"comments\" />\n            </Button>\n            <Label basic color=\"blue\" pointing=\"left\">\n              {commentCount}\n            </Label>\n          </Button>\n        </MyPopup>\n        {/* If user is logged in show delete button */}\n        {user && user.username === username && (\n          <DeleteButton refetch={refetch} postId={id} />\n        )}\n      </Card.Content>\n    </Card>\n  );\n}\n\nexport default PostCard;\n","import React from 'react';\nimport { Form } from 'semantic-ui-react';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/client';\n\nimport useForm from '../util/useForm';\nimport { FETCH_POSTS_QUERY } from '../util/graphql';\n\nexport default function PostForm() {\n  const { values, onChange, onSubmit } = useForm(createPostCallback, {\n    body: '',\n  });\n\n  const [createPost, { error }] = useMutation(CREATE_POST_MUTATION, {\n    variables: values,\n    update(proxy, result) {\n      const data = proxy.readQuery({\n        query: FETCH_POSTS_QUERY,\n      });\n      proxy.writeQuery({\n        query: FETCH_POSTS_QUERY,\n        data: {\n          getPosts: [result.data.createPost, ...data.getPosts],\n        },\n      });\n      values.body = '';\n    },\n    onError(err) {\n      return err;\n    },\n  });\n\n  function createPostCallback() {\n    createPost();\n  }\n\n  if (error) {\n    return `Error: ${error}`;\n  }\n\n  return (\n    <>\n      <Form onSubmit={onSubmit}>\n        <h2>Create a post: </h2>\n        <Form.Field>\n          <Form.Input\n            placeholder=\"Hi World!\"\n            name=\"body\"\n            onChange={onChange}\n            value={values.body}\n            error={!!error}\n          />\n        </Form.Field>\n      </Form>\n      {error && (\n        <div className=\"ui error message\" style={{ marginBottom: 20 }}>\n          <ul className=\"list\">\n            <li>{error.graphQLErrors[0].message}</li>\n          </ul>\n        </div>\n      )}\n    </>\n  );\n}\n\nconst CREATE_POST_MUTATION = gql`\n  mutation createPost($body: String!) {\n    createPost(body: $body) {\n      id\n      body\n      createdAt\n      username\n      comments {\n        id\n        body\n        username\n        createdAt\n      }\n      likes {\n        id\n        username\n        createdAt\n      }\n      likeCount\n      commentCount\n    }\n  }\n`;\n","import React, { useContext } from 'react';\nimport { useQuery, NetworkStatus } from '@apollo/client';\nimport { Grid, Transition } from 'semantic-ui-react';\n\nimport { AuthContext } from '../context/auth';\nimport PostCard from '../components/PostCard';\nimport PostForm from '../components/PostForm';\nimport { FETCH_POSTS_QUERY } from '../util/graphql';\n\nfunction Home() {\n  const { user } = useContext(AuthContext);\n\n  // query name is added to data property\n  // CAREFUL: dont destructure data in useQuery (property might not exist by the time mutation is made)\n  const { loading, data, networkStatus, refetch } = useQuery(\n    FETCH_POSTS_QUERY,\n    {\n      notifyOnNetworkStatusChange: true,\n      onError(err) {\n        console.log('Login Error:', err);\n      },\n    }\n  );\n\n  if (networkStatus === NetworkStatus.refetch) {\n    return <h1>Refetching posts...</h1>;\n  }\n\n  if (loading) {\n    return <h1>Loading posts..</h1>;\n  }\n\n  return (\n    <Grid columns={3}>\n      <Grid.Row className=\"page-title\">\n        <h1>Recent Posts</h1>\n      </Grid.Row>\n      <Grid.Row>\n        {user && (\n          <Grid.Column>\n            <PostForm />\n          </Grid.Column>\n        )}\n        <Transition.Group>\n          {data &&\n            data.getPosts.map((post) => (\n              <Grid.Column key={post.id} style={{ marginBottom: 20 }}>\n                <PostCard post={post} refetch={refetch} />\n              </Grid.Column>\n            ))}\n        </Transition.Group>\n      </Grid.Row>\n    </Grid>\n  );\n}\n\nexport default Home;\n","import React, { useState, useContext } from 'react';\nimport { Form, Button } from 'semantic-ui-react';\nimport { useMutation } from '@apollo/client';\nimport emailjs from 'emailjs-com';\nimport gql from 'graphql-tag';\n\nimport { AuthContext } from '../context/auth';\nimport useForm from '../util/useForm';\n\nexport default function Register(props) {\n  const context = useContext(AuthContext);\n  const [errors, setErrors] = useState({});\n\n  const { onChange, onSubmit, values } = useForm(registerUser, {\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n\n  function sendEmail(e) {\n    e.preventDefault();\n    emailjs\n      .sendForm(\n        process.env.REACT_APP_SERVICE_ID,\n        process.env.REACT_APP_TEMPLATE_ID,\n        e.target,\n        process.env.REACT_APP_USER_ID\n      )\n      .then(\n        (result) => {\n          console.log(result.text);\n        },\n        (error) => {\n          console.log(error.text);\n        }\n      );\n  }\n\n  const [addUser, { loading }] = useMutation(REGISTER_USER, {\n    onCompleted(data) {\n      context.login(data.register);\n      props.history.push('/');\n    },\n    onError(err) {\n      if (err.graphQLErrors[0].extensions.errors) {\n        setErrors(err.graphQLErrors[0].extensions.errors);\n      }\n    },\n    variables: values,\n  });\n\n  // created since functions are recognized everywhere as opposed to constants\n  function registerUser() {\n    addUser();\n  }\n\n  return (\n    <div className=\"form-container\">\n      {/* Register Form */}\n      <Form\n        onSubmit={(e) => {\n          onSubmit(e);\n          if (Object.values(errors).length > 0) {\n            console.log('Error in registration, no email sent');\n          } else {\n            sendEmail(e); // *! note that email still sends if fields are incorrect (only on first attempt)\n          }\n        }}\n        noValidate\n        className={loading ? 'loading' : ''}\n      >\n        <h1>Register</h1>\n\n        {/* Username */}\n        <Form.Input\n          label=\"Username\"\n          placeholder=\"Username...\"\n          name=\"username\"\n          type=\"text\"\n          value={values.username}\n          onChange={onChange}\n          error={errors && errors.username ? true : false}\n        />\n        {/* Email */}\n        <Form.Input\n          label=\"Email\"\n          placeholder=\"Email...\"\n          name=\"email\"\n          type=\"email\"\n          value={values.email}\n          onChange={onChange}\n          error={errors && errors.email ? true : false}\n        />\n        {/* Password */}\n        <Form.Input\n          label=\"Password\"\n          placeholder=\"Password...\"\n          type=\"password\"\n          name=\"password\"\n          value={values.password}\n          onChange={onChange}\n          error={errors && errors.password ? true : false}\n        />\n        {/* Confirm Password */}\n        <Form.Input\n          label=\"Confirm Password\"\n          placeholder=\"ConfirmPassword\"\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={values.confirmPassword}\n          onChange={onChange}\n          error={errors && errors.confirmPassword ? true : false}\n        />\n        <Button type=\"submit\" primary style={{ background: '#00b5ad' }}>\n          Register\n        </Button>\n      </Form>\n      {loading ? <p>Registering user...</p> : ''}\n      {errors && Object.keys(errors).length > 0 && (\n        <div className=\"ui error message\">\n          <ul className=\"list\">\n            {Object.values(errors).map((value) => (\n              <li key={value}>{value}</li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nconst REGISTER_USER = gql`\n  mutation register(\n    $username: String!\n    $email: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    register(\n      registerInput: {\n        username: $username\n        email: $email\n        password: $password\n        confirmPassword: $confirmPassword\n      }\n    ) {\n      id\n      email\n      username\n      createdAt\n      token\n    }\n  }\n`;\n","import React, { useState, useContext } from 'react';\nimport { Menu } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nimport { AuthContext } from '../context/auth';\n\nfunction MenuBar() {\n  const { user, logout } = useContext(AuthContext);\n  const { pathname } = window.location;\n\n  // start at index 1 to get rest of string (I.e. \"login\" with no slash)\n  const path = pathname === '/' ? 'home' : pathname.substr(1);\n\n  const [activeItem, setActiveItem] = useState(path);\n  const handleItemClick = (e, { name }) => setActiveItem(name);\n\n  const menuBar = user ? (\n    <Menu pointing secondary size=\"massive\" color=\"teal\">\n      <Menu.Item\n        name={user.username}\n        active={activeItem === user.username}\n        onClick={handleItemClick}\n        as={Link}\n        to=\"/\"\n      />\n\n      <Menu.Menu position=\"right\">\n        <Menu.Item\n          name=\"Live Chat\"\n          active={activeItem === 'Live Chat'}\n          onClick={handleItemClick}\n          as={Link}\n          to=\"/join\"\n        />\n        <Menu.Item name=\"logout\" onClick={logout} as={Link} to=\"/login\" />\n      </Menu.Menu>\n    </Menu>\n  ) : (\n    <Menu pointing secondary size=\"massive\" color=\"teal\">\n      <Menu.Item\n        name=\"home\"\n        active={activeItem === 'home'}\n        onClick={handleItemClick}\n        as={Link}\n        to=\"/\"\n      />\n\n      <Menu.Menu position=\"right\">\n        <Menu.Item\n          name=\"login\"\n          active={activeItem === 'login'}\n          onClick={handleItemClick}\n          as={Link}\n          to=\"/login\"\n        />\n        <Menu.Item\n          name=\"register\"\n          active={activeItem === 'register'}\n          onClick={handleItemClick}\n          as={Link}\n          to=\"/register\"\n        />\n        <Menu.Item\n          name=\"News\"\n          active={activeItem === 'news'}\n          onClick={handleItemClick}\n          as={Link}\n          to=\"/news\"\n        />\n      </Menu.Menu>\n    </Menu>\n  );\n\n  return menuBar;\n}\n\nexport default MenuBar;\n","import React, { useContext, useState, useRef } from 'react';\nimport gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/client';\nimport {\n  Card,\n  Button,\n  Grid,\n  Image,\n  Icon,\n  Label,\n  Form,\n} from 'semantic-ui-react';\nimport moment from 'moment';\n\nimport { AuthContext } from '../context/auth';\nimport DeleteButton from '../components/DeleteButton';\nimport LikeButton from '../components/LikeButton';\nimport MyPopup from '../util/MyPopup';\n\nfunction SinglePost(props) {\n  const { postId } = props.match.params; // obtained from url (used to load this component)\n  const { user } = useContext(AuthContext);\n  const commentInputRef = useRef(null);\n\n  const { data } = useQuery(FETCH_POST_QUERY, {\n    // passing in postId to the query\n    variables: {\n      postId,\n    },\n  });\n\n  const [comment, setComment] = useState('');\n\n  const [submitComment] = useMutation(SUBMIT_COMMENT_MUTATION, {\n    onCompleted() {\n      setComment(''); // clear comment box\n      commentInputRef.current.blur(); // fix focus\n    },\n    variables: {\n      body: comment,\n      postId,\n    },\n  });\n\n  function deletePostCallback() {\n    props.history.push('/');\n  }\n\n  let postMarkup;\n\n  // if there is no posts\n  if (!data) {\n    postMarkup = <p>Loading post...</p>;\n  } else {\n    const {\n      id,\n      body,\n      createdAt,\n      username,\n      comments,\n      likes,\n      likeCount,\n      commentCount,\n    } = data.getPost;\n\n    postMarkup = (\n      <Grid>\n        <Grid.Row>\n          <Grid.Column width={2}>\n            <Image\n              src=\"https://react.semantic-ui.com/images/avatar/large/molly.png\"\n              size=\"small\"\n              float=\"right\"\n            />\n          </Grid.Column>\n          <Grid.Column width={10}>\n            <Card fluid>\n              <Card.Content>\n                <Card.Header>{username}</Card.Header>\n                <Card.Meta>{moment(createdAt).fromNow()}</Card.Meta>\n                <Card.Description>{body}</Card.Description>\n              </Card.Content>\n              <hr />\n              <Card.Content extra>\n                <LikeButton user={user} post={{ id, likeCount, likes }} />\n                {/* Popup container */}\n                <MyPopup content=\"Comment on post\">\n                  <Button\n                    as=\"div\"\n                    labelPosition=\"right\"\n                    onClick={() => console.log('Comment on post')}\n                  >\n                    <Button basic color=\"blue\">\n                      <Icon name=\"comments\" />\n                    </Button>\n                    <Label basic color=\"blue\" pointing=\"left\">\n                      {commentCount}\n                    </Label>\n                  </Button>\n                </MyPopup>\n                {user && user.username === username && (\n                  <DeleteButton postId={id} callback={deletePostCallback} />\n                )}\n              </Card.Content>\n            </Card>\n            {/* If there exists a user create an input to submit a comment */}\n            {user && (\n              <Card fluid>\n                <Card.Content>\n                  <p>Post a comment</p>\n                  <Form>\n                    <div className=\"ui action input fluid\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"Comment..\"\n                        name=\"comment\"\n                        value={comment}\n                        onChange={(event) => setComment(event.target.value)}\n                        ref={commentInputRef}\n                      />\n                      <button\n                        type=\"submit\"\n                        className=\"ui button teal\"\n                        disabled={comment.trim() === ''}\n                        onClick={submitComment}\n                      >\n                        Submit\n                      </button>\n                    </div>\n                  </Form>\n                </Card.Content>\n              </Card>\n            )}\n            {comments.map((comment) => (\n              <Card fluid key={comment.id}>\n                <Card.Content>\n                  {/* If there exists a user add a delete button */}\n                  {user && user.username === comment.username && (\n                    <DeleteButton postId={id} commentId={comment.id} />\n                  )}\n                  <Card.Header>{comment.username}</Card.Header>\n                  <Card.Meta>{moment(comment.createdAt).fromNow()}</Card.Meta>\n                  <Card.Description>{comment.body}</Card.Description>\n                </Card.Content>\n              </Card>\n            ))}\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n  return postMarkup;\n}\n\nconst SUBMIT_COMMENT_MUTATION = gql`\n  mutation($postId: ID!, $body: String!) {\n    createComment(postId: $postId, body: $body) {\n      body\n      username\n      comments {\n        id\n        body\n        createdAt\n        username\n      }\n      commentCount\n    }\n  }\n`;\n\nconst FETCH_POST_QUERY = gql`\n  query($postId: ID!) {\n    getPost(postId: $postId) {\n      id\n      body\n      createdAt\n      username\n      likeCount\n      likes {\n        username\n      }\n      commentCount\n      comments {\n        id\n        username\n        createdAt\n        body\n      }\n    }\n  }\n`;\n\nexport default SinglePost;\n","import React, { useState, useEffect } from 'react';\nimport queryString from 'query-string'; // retrive data from url\nimport io from 'socket.io-client';\n\nimport '../styles/Chat.css';\n\nimport InfoBar from '../components/InfoBar';\nimport Input from '../components/Input';\nimport Messages from '../components/Messages';\n\nlet socket;\n\nconst Chat = ({ location }) => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n  const [users, setUsers] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  const ENDPOINT = 'https://server-chatter.herokuapp.com';\n\n  useEffect(() => {\n    // get room and name from params\n    const { room, name } = queryString.parse(location.search);\n\n    socket = io(ENDPOINT, {\n      reconnectionAttempts: 'Infinity',\n    });\n\n    setName(name);\n    setRoom(room);\n\n    // send name and room as payload when someone joins\n    socket.emit('join', { name, room }, (error) => {\n      // callback returns any errors\n      if (error) {\n        alert(error);\n      }\n    });\n  }, [ENDPOINT, location.search]);\n\n  useEffect(() => {\n    // recieve message from backend\n    socket.on('message', (message) => {\n      setMessages([...messages, message]);\n    });\n\n    // receive users from backend\n    socket.on('roomData', ({ users }) => {\n      setUsers(users);\n    });\n\n    return () => {\n      socket.emit('close');\n      socket.off();\n    };\n  }, [messages, users]);\n\n  const sendMessage = (event) => {\n    event.preventDefault();\n\n    if (message) {\n      socket.emit('sendMessage', message, () => setMessage(''));\n    }\n  };\n\n  return (\n    <div id=\"chat\">\n      <div className=\"container\">\n        <InfoBar room={room} />\n        <Messages messages={messages} name={name} />\n        <Input\n          message={message}\n          setMessage={setMessage}\n          sendMessage={sendMessage}\n        />\n        {/* <TextContainer users={users} /> */}\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport '../styles/Join.css';\n\nconst Join = () => {\n  const [name, setName] = useState('');\n  const [room, setRoom] = useState('');\n\n  return (\n    <div id=\"join\">\n      <div className=\"joinInnerContainer\">\n        <h1>Join</h1>\n        <div>\n          <input\n            placeholder=\"Name\"\n            type=\"text\"\n            onChange={(event) => setName(event.target.value)}\n          />\n        </div>\n        <div>\n          <input\n            placeholder=\"Room\"\n            className=\" mt-20\"\n            type=\"text\"\n            onChange={(event) => setRoom(event.target.value)}\n          />\n        </div>\n        <Link\n          onClick={(e) => (!name || !room ? e.preventDefault() : null)}\n          to={`/join/chat?name=${name}&room=${room}`}\n        >\n          <button className=\"button mt-20\" type=\"submit\">\n            Sign In\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Join;\n","import React from 'react';\n\nimport closeIcon from '../icons/closeIcon.png';\nimport onlineIcon from '../icons/onlineIcon.png';\nimport videoCallIcon from '../icons/videoCallIcon.png';\n\nimport '../styles/infoBar.css';\n\nconst InfoBar = ({ room }) => (\n  <div id=\"infobar\">\n    <div className=\"leftInnerContainer\">\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n      <h3>{room}</h3>\n    </div>\n    <div className=\"rightInnerContainer\">\n      <a href=\"/video\" target=\"_blank\">\n        <img className=\"videoIcon\" src={videoCallIcon} alt=\"video call\" />\n      </a>\n      <a href=\"/join\">\n        <img className=\"closeIcon\" src={closeIcon} alt=\"close icon\" />\n      </a>\n    </div>\n  </div>\n);\n\nexport default InfoBar;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAQAAAAn3TzeAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQflAQMPGSOXszmYAAAA/klEQVQ4y93TLUuDURjG8d8z51ZWnC9hS8KiyWDQDyBYDb6Fid2kRQRNIpgEm2F1GiyyzyCKwY+gSWFsQ8SBTvAxOJEpbs8Gll3p3If7fy7OfXPRvwowZFxC+GfHq1uPPy9n7Bj11ubpQWVbblqxSxcONdpgSRuyVrw06wE5Hkx2/MqUa9nmOefAXZy2Tp9qIIaMvHl1w/GIowulzVlVta2iFA0LjSl4cuTcswmiuxUV1L7KWCQoUHH6DUXFfulfsdCIBenu3QJLzixLdTeSsjVF607MSkZfQKDmWEnenrpUDImOUALvuLdv0ZVqtARsyrQmIDBtt5e89ZTuftYHbppAbogiCw0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDEtMDNUMTU6MjU6MzUtMDU6MDDmyy0TAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTAxLTAzVDE1OjI1OjM1LTA1OjAwl5aVrwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\n\nimport '../styles/Input.css';\n\nconst Input = ({ setMessage, sendMessage, message }) => (\n  <form id=\"input\">\n    <input\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={message}\n      onChange={({ target: { value } }) => setMessage(value)}\n      onKeyPress={(event) =>\n        event.key === 'Enter' ? sendMessage(event) : null\n      }\n    />\n    <button type=\"button\" onClick={(e) => sendMessage(e)}>\n      Send\n    </button>\n  </form>\n);\n\nexport default Input;\n","import React from 'react';\nimport ReactEmoji from 'react-emoji';\n\nimport '../styles/Message.css';\n\nconst Message = ({ message: { text, user }, name }) => {\n  let isSentByCurrentUser = false;\n\n  const trimmedName = name.trim().toLowerCase();\n\n  if (user === trimmedName) {\n    isSentByCurrentUser = true;\n  }\n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pr-10\">{trimmedName}</p>\n      <div className=\"messageBox backgroundBlue\">\n        <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n      </div>\n      <p className=\"sentText pl-10 \">{user}</p>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport ScollToBottom from 'react-scroll-to-bottom';\n\nimport Message from './Message';\nimport '../styles/Messages.css';\n\nconst Messages = ({ messages, name }) => (\n  <ScollToBottom className=\"messages\">\n    {messages.map((message, i) => (\n      <div key={i}>\n        <Message message={message} name={name} />\n      </div>\n    ))}\n  </ScollToBottom>\n);\n\nexport default Messages;\n","import React, { useEffect, useState } from 'react';\nimport { Card, Grid, GridRow } from 'semantic-ui-react';\n\nfunction news() {\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    fetch(\n      'https://newsapi.org/v2/top-headlines?country=us&apiKey=fd74d03c2c6148908edb8f2cb92723d3'\n    )\n      .then((response) => response.json())\n      .then((json) => {\n        console.log(JSON.stringify(json));\n        setItems(json.articles);\n        console.log('items', items);\n      })\n      .catch((error) => console.error(error));\n  }, []);\n\n  console.log(items);\n\n  return (\n    <Grid columns={3}>\n      <GridRow centered>\n        {items.map((item) => (\n          <Card\n            href={item.url}\n            header={item.title}\n            description={item.description}\n            meta={item.author}\n          />\n        ))}\n      </GridRow>\n    </Grid>\n  );\n}\n\nexport default news;\n","import React from 'react';\n\nconst Lobby = ({\n  username,\n  handleUsernameChange,\n  roomName,\n  handleRoomNameChange,\n  handleSubmit,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <h2>Enter a room</h2>\n    <div>\n      <label htmlFor=\"name\">Name:</label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        value={username}\n        onChange={handleUsernameChange}\n        required\n      />\n    </div>\n\n    <div>\n      <label htmlFor=\"room\">Room name:</label>\n      <input\n        type=\"text\"\n        id=\"room\"\n        value={roomName}\n        onChange={handleRoomNameChange}\n        required\n      />\n    </div>\n    <button type=\"submit\">Submit</button>\n  </form>\n);\n\nexport default Lobby;\n","import React, { useState, useEffect, useRef } from 'react';\n\nconst Participant = ({ participant }) => {\n  const [videoTracks, setVideoTracks] = useState([]);\n  const [audioTracks, setAudioTracks] = useState([]);\n\n  const videoRef = useRef();\n  const audioRef = useRef();\n\n  const trackpubsToTracks = (trackMap) =>\n    Array.from(trackMap.values())\n      .map((publication) => publication.track)\n      .filter((track) => track !== null);\n\n  useEffect(() => {\n    setVideoTracks(trackpubsToTracks(participant.videoTracks));\n    setAudioTracks(trackpubsToTracks(participant.audioTracks));\n\n    const trackSubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => [...videoTracks, track]);\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => [...audioTracks, track]);\n      }\n    };\n\n    const trackUnsubscribed = (track) => {\n      if (track.kind === 'video') {\n        setVideoTracks((videoTracks) => videoTracks.filter((v) => v !== track));\n      } else if (track.kind === 'audio') {\n        setAudioTracks((audioTracks) => audioTracks.filter((a) => a !== track));\n      }\n    };\n\n    participant.on('trackSubscribed', trackSubscribed);\n    participant.on('trackUnsubscribed', trackUnsubscribed);\n\n    return () => {\n      setVideoTracks([]);\n      setAudioTracks([]);\n      participant.removeAllListeners();\n    };\n  }, [participant]);\n\n  useEffect(() => {\n    const videoTrack = videoTracks[0];\n    if (videoTrack) {\n      videoTrack.attach(videoRef.current);\n      return () => {\n        videoTrack.detach();\n      };\n    }\n  }, [videoTracks]);\n\n  useEffect(() => {\n    const audioTrack = audioTracks[0];\n    if (audioTrack) {\n      audioTrack.attach(audioRef.current);\n      return () => {\n        audioTrack.detach();\n      };\n    }\n  }, [audioTracks]);\n\n  return (\n    <div className=\"participant\">\n      <h3>{participant.identity}</h3>\n      <video ref={videoRef} autoPlay />\n      <audio ref={audioRef} autoPlay muted />\n    </div>\n  );\n};\n\nexport default Participant;\n","import React, { useState, useEffect } from 'react';\nimport Video from 'twilio-video';\nimport Participant from './Participant';\n\nconst Room = ({ roomName, token, handleLogout }) => {\n  const [room, setRoom] = useState(null);\n  const [participants, setParticipants] = useState([]);\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) =>\n        prevParticipants.filter((p) => p !== participant)\n      );\n    };\n\n    Video.connect(token, {\n      name: roomName,\n    }).then((room) => {\n      setRoom(room);\n      room.on('participantConnected', participantConnected);\n      room.on('participantDisconnected', participantDisconnected);\n      room.participants.forEach(participantConnected);\n    });\n\n    return () => {\n      setRoom((currentRoom) => {\n        if (currentRoom && currentRoom.localParticipant.state === 'connected') {\n          currentRoom.localParticipant.tracks.forEach((trackPublication) => {\n            trackPublication.track.stop();\n          });\n          currentRoom.disconnect();\n          return null;\n        }\n        return currentRoom;\n      });\n    };\n  }, [roomName, token]);\n\n  const remoteParticipants = participants.map((participant) => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n\n  return (\n    <div className=\"room\">\n      <h2>Room: {roomName}</h2>\n      <button type=\"submit\" onClick={handleLogout}>\n        Log out\n      </button>\n      <div className=\"local-participant\">\n        {room ? (\n          <Participant\n            key={room.localParticipant.sid}\n            participant={room.localParticipant}\n          />\n        ) : (\n          ''\n        )}\n      </div>\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n  );\n};\n\nexport default Room;\n","import React, { useState, useCallback } from 'react';\nimport Lobby from './Lobby';\nimport Room from './Room';\n\nconst VideoChat = () => {\n  const [username, setUsername] = useState('');\n  const [roomName, setRoomName] = useState('');\n  const [token, setToken] = useState(null);\n\n  const handleUsernameChange = useCallback((event) => {\n    setUsername(event.target.value);\n  }, []);\n\n  const handleRoomNameChange = useCallback((event) => {\n    setRoomName(event.target.value);\n  }, []);\n\n  const handleSubmit = useCallback(\n    async (event) => {\n      event.preventDefault();\n      const data = await fetch(\n        'https://server-chatter.herokuapp.com/video/token',\n        {\n          method: 'POST',\n          body: JSON.stringify({\n            identity: username,\n            room: roomName,\n          }),\n          headers: {\n            'Content-Type': 'application/json',\n            Accept: 'application/json',\n          },\n        }\n      )\n        .then((res) => res.json())\n        .catch((err) => console.log(err.message));\n      setToken(data.token);\n    },\n    [roomName, username]\n  );\n\n  const handleLogout = useCallback((event) => {\n    setToken(null);\n  }, []);\n\n  if (token) {\n    return (\n      <Room roomName={roomName} token={token} handleLogout={handleLogout} />\n    );\n  }\n  return (\n    <Lobby\n      username={username}\n      roomName={roomName}\n      handleUsernameChange={handleUsernameChange}\n      handleRoomNameChange={handleRoomNameChange}\n      handleSubmit={handleSubmit}\n    />\n  );\n};\n\nexport default VideoChat;\n","import React from 'react';\nimport VideoChat from '../components/VideoChat';\n\nimport '../styles/Video.css';\n\nconst Video = () => (\n  <div id=\"video\">\n    <header>\n      <h1>Video Chat</h1>\n    </header>\n    <main>\n      <VideoChat />\n    </main>\n  </div>\n);\n\nexport default Video;\n","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Container } from 'semantic-ui-react';\nimport * as Sentry from '@sentry/react';\n\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css'; // will override default styles from semantic css (since it's after)\n\nimport AuthRoute from './util/AuthRoute';\nimport PrivateRoute from './util/PrivateRoute';\nimport Login from './pages/Login';\nimport Home from './pages/Home';\nimport Register from './pages/Register';\nimport MenuBar from './components/MenuBar';\nimport SinglePost from './pages/SinglePost';\nimport Join from './pages/Join';\nimport Chat from './pages/Chat';\nimport News from './pages/news';\nimport Video from './pages/Video';\n\nconst App = () => (\n  <Router>\n    <Container>\n      <MenuBar />\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/posts/:postId\" component={SinglePost} />\n      <Route exact path=\"/news\" component={News} />\n      <AuthRoute exact path=\"/login\" component={Login} />\n      <AuthRoute exact path=\"/register\" component={Register} />\n      <PrivateRoute exact path=\"/video\" component={Video} />\n    </Container>\n    <PrivateRoute exact path=\"/join\" component={Join} />\n    <PrivateRoute exact path=\"/join/chat\" component={Chat} />\n  </Router>\n);\n\nexport default Sentry.withProfiler(App);\n","import React from 'react';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  createHttpLink,\n  ApolloProvider,\n} from '@apollo/client';\nimport { setContext } from 'apollo-link-context';\nimport * as Sentry from '@sentry/react';\n\nimport App from './App';\nimport { AuthProvider } from './context/auth';\n\nfunction FallbackComponent() {\n  return <div>Sentry has caught an error...</div>;\n}\n\nconst httpLink = createHttpLink({\n  uri: 'https://server-chatter.herokuapp.com/graphql',\n});\n\n// used to add token to user's header\nconst authLink = setContext(() => {\n  const token = localStorage.getItem('jwtToken');\n  return {\n    headers: {\n      Authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\n// Create new apollo client (which can take children by default)\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n  // onError: ({ networkError, graphQLErrors }) => {\n  //   console.log('graphQLErrors', graphQLErrors);\n  //   console.log('networkError', networkError);\n  // },\n});\n\nexport default (\n  <ApolloProvider client={client}>\n    <AuthProvider>\n      <Sentry.ErrorBoundary\n        fallback={FallbackComponent}\n        showDialog\n        onMount={() => console.log('Sentry mounted')}\n        onUnmount={() => console.log('Sentry unmounted')}\n      >\n        <App />\n      </Sentry.ErrorBoundary>\n    </AuthProvider>\n  </ApolloProvider>\n);\n","import ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/react';\nimport { Integrations } from '@sentry/tracing';\n\nimport reportWebVitals from './reportWebVitals';\nimport Provider from './ApolloProvider';\n\nSentry.init({\n  dsn: process.env.REACT_APP_SENTRY_KEY,\n  autoSessionTracking: true,\n  integrations: [new Integrations.BrowserTracing()],\n  release: `Chatter${process.env.npm_package_version}`,\n\n  // We recommend adjusting this value in production, or using tracesSampler\n  // for finer control\n  tracesSampleRate: 1.0,\n});\n\n// use ApolloProvider as a replace for app\nReactDOM.render(Provider, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}